<div class="font-inter bg-[#D9D9D9] mx-2 pt-2 px-2 pb-4 grid grid-cols-4 gap-6">
    <div class="col-span-1">
        <h2 class="text-center text-white bg-custom rounded-t-[10px] font-semibold text-xl py-2 ">Infos</h2>
        <div class="bg-white h-[445px]  rounded-b-[10px]">
                <div *ngIf="isLoading; else infoCustomer"  class="flex items-center justify-center h-full bg-white">
                    <svg class="animate-spin h-5 w-5 mr-3 text-gray-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.878 3.2 8.062l2.83-2.83zM12 20c-3.042 0-5.878-1.135-8.062-3.2l-2.83 2.83A7.962 7.962 0 0012 24h.001c4.418 0 8-3.582 8-8V12h-4v8z"></path>
                    </svg>
                    <p class="text-gray-600">Loading infos...</p>
                </div>
                
                <ng-template #infoCustomer>
                    <div class="w-full">
                        <div *ngIf="client" class="flex justify-center py-2">
                            <img src="assets/icons/user.png" class="pr-2" />
                            <h3 class="text-xl font-semibold">{{client.user_name}}</h3>
                        </div>
                        <div class="py-2 border-b border-solid border-gray-300">
                            <div *ngFor="let fleet of fleets" class="flex items-center justify-center py-2">
                                <img src="assets/icons/fleet.png" class="pr-2 w-16 h-6" />
                                <h3 class="text-sm">{{ fleet.fleet_name }}</h3>
                            </div>
                        </div>
                        <div class="h-[150px] overflow-y-scroll custom-scrollbar py-2 border-b border-solid border-gray-300">
                            <div *ngFor="let ship of ships" class="flex items-center justify-center py-1">
                                <img src="assets/icons/ship.png" class="pr-2 w-14 h-4" />
                                <h3 
                                    class="text-sm cursor-pointer" 
                                    (click)="shipDesc(ship.ship_name, ship.ship_description)"
                                    [ngClass]="{'bg-custom p-2 text-white font-semibold': ship.ship_name === shipName}"
                                > {{ ship.ship_name }} </h3>
                            </div>
                        </div>
                    </div>
                </ng-template>
        </div>
    </div>
    <div class="col-span-3">
        <h2 class="text-center text-white bg-custom rounded-t-[10px] font-semibold text-xl py-2 ">Documents related to client</h2>
        <div class="bg-white h-[445px]  rounded-b-[10px]">
            <p class="px-4 py-2 text-sm">{{ shipDescription }}</p>
            
            <table class="w-full bg-white h-[350px] overflow-y-scroll">
                <thead>   
                    <tr class="bg-white text-sm">
                        <th class="p-3">Name</th>
                        <th class="p-3">Ref</th>
                        <th class="p-3">Type</th>
                        <th class="p-3">Category</th>
                        <th class="p-3">Created on</th>
                        <th class="p-3">Size</th>
                    </tr>             
                </thead>
                <tbody class="text-xs">
                    <tr *ngFor="let document of documents" class="text-center">
                        <td class="p-3">{{ document.doc_last_version }}</td>
                        <td class="p-3">{{ document.doc_ref }}</td>
                        <td class="p-3">{{ document.doc_type }}</td>
                        <td class="p-3">{{ document.Categorie.cat_label }}</td>
                        <td class="p-3">{{ document.doc_created_date | date:'yyyy MMM dd HH:mm:ss' }}</td>
                        <td class="p-3">{{ document.doc_size }} o</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
